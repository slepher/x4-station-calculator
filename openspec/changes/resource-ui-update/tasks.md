## 1. 核心数据计算函数

- [x] 1.1 参照 `calculateProfitBreakdown` 方法，创建 `analyzeWareFlow` 函数，使其输出结果同时包含数量、体积、经济分析数据

## 2. 创建 StationResourceDashboard 组件

- [x] 2.1 创建新的 `StationWareFlowsDashboard` 组件，全盘复制 `ResourceList` 组件代码
- [x] 2.2 在 store 中新建 `wareFlowList` computed 属性，调用 `analyzeWareFlow` 函数
- [x] 2.3 更新 `StationSettings` 类型定义，添加 `resourceBufferHours` 和 `productBufferHours` 参数
- [x] 2.4 修改组件数据源，使用 `wareFlowList` 替代 `netProduction`
- [x] 2.5 将 `ResourceItem` 组件复制为 `StationWareFlow` 组件
- [x] 2.6 修改 `StationWareFlow` 组件数据源，适配 `StationWareFlowsDashboard` 传递的完整 WareFlow 数据

## 3. 组件重构

- [x] 3.1 将 `ResourceList` 组件功能迁移到新组件
- [x] 3.2 将 `StationProfit` 组件功能集成到新组件
- [x] 3.3 实现视图模式切换功能（数量/体积/经济）
- [x] 3.4 视图模式的标题栏现在分隔为左中右三个区间, 左方和右方保持不变, 中间区域为视图模式切换按钮
- [x] 3.5 切换UI组件的style 类似用户规划区的x2, x3, x5 按钮, 右对齐紧贴每小时流量标签左侧
- [x] 3.6 切换组件的表现类似单选, 选中的模式颜色为琥珀色, 和用户规划区的hover时保持一致(但是不高亮)
- [x] 3.7 体积按钮暂不可用
- [x] 3.8 切换到数量视图时, 标题为资源产出概览
- [x] 3.9 切换到经济视图时, 标题为资源经济概览
- [ ] 3.10 切换到经济视图时, 整个组件应该显示净产出数据, 净消耗数据, 产出消耗明细数据而不是产量数据

## 4. 体积分析功能

- [ ] 4.1 实现体积计算逻辑：deltaVolume = netOutput * volume
- [ ] 4.2 添加体积数据分组功能（固体/液体/集装箱）
- [ ] 4.3 实现压缩比计算功能
- [ ] 4.4 创建体积分析视图的UI组件

## 5. 状态管理

- [ ] 5.1 新增 `viewMode` 状态管理（'quantity' | 'volume' | 'economy'）
- [ ] 5.2 实现视图切换时的数据转换逻辑
- [ ] 5.3 确保视图切换时的组件平滑过渡

## 6. 布局调整

- [ ] 6.1 移除右侧面板的独立 `StationProfit` 组件
- [ ] 6.2 调整中间栏以容纳统一仪表盘
- [ ] 6.3 确保三栏布局比例保持不变
- [ ] 6.4 优化响应式设计适配

## 7. 测试与优化

### 7.1 功能测试

#### 7.1.1 视图模式切换测试
- [ ] **基础切换功能**
  - 测试数量视图(Q)的切换和显示
  - 测试经济视图(E)的切换和显示
  - 验证体积视图(V)按钮的禁用状态
  - **测试结果**: 待测试

- [ ] **标题动态更新测试**
  - 验证数量视图标题显示"资源产出概览"
  - 验证经济视图标题显示"资源经济概览"
  - 验证体积视图标题显示"Volume Overview"
  - **测试结果**: 待测试

- [ ] **按钮状态测试**
  - 验证选中按钮的琥珀色高亮效果
  - 验证未选中按钮的默认状态
  - 验证体积按钮的禁用样式和提示信息
  - **测试结果**: 待测试

#### 7.1.2 利润分析集成测试
- [ ] **价格滑块功能测试**
  - 测试买入价格滑块(buyMultiplier)的交互
  - 测试卖出价格滑块(sellMultiplier)的交互
  - 验证价格变化实时反映在利润计算中
  - **测试结果**: 待测试

- [ ] **利润数据显示测试**
  - 验证总收入、总支出、净利润的显示格式
  - 测试利润数据的实时计算准确性
  - 验证利润数据仅在"经济视图"下显示
  - **测试结果**: 待测试

#### 7.1.3 资源列表功能测试
- [ ] **数据源迁移测试**
  - 验证 `wareFlowList` 替代 `netProduction` 的数据准确性
  - 测试资源锁定功能在新组件中的工作状态
  - 验证空状态显示的完整性
  - **测试结果**: 待测试

- [ ] **国际化支持测试**
  - 测试语言切换时资源名称的实时更新
  - 验证标题和标签的多语言支持
  - 测试按钮提示信息的本地化
  - **测试结果**: 待测试

### 7.2 用户体验测试

#### 7.2.1 界面布局测试
- [ ] **三区间布局测试**
  - 验证标题栏左中右三个区间的布局合理性
  - 测试切换按钮与标签的相对位置
  - 验证响应式设计在不同屏幕尺寸下的表现
  - **测试结果**: 待测试

#### 7.2.2 交互体验测试
- [ ] **视图切换流畅性测试**
  - 测试快速连续切换视图模式的稳定性
  - 验证切换过程中的数据加载性能
  - 测试切换时的视觉过渡效果
  - **测试结果**: 待测试

- [ ] **按钮交互测试**
  - 测试按钮的悬停效果和点击反馈
  - 验证按钮的禁用状态交互行为
  - 测试按钮提示信息的显示准确性
  - **测试结果**: 待测试

### 7.3 数据准确性测试

#### 7.3.1 数量视图数据测试
- [ ] **净产量计算测试**
  - 验证 `netRate` 数据的计算准确性
  - 测试资源明细的展开/折叠功能
  - 验证锁定状态对数据的影响
  - **测试结果**: 待测试

#### 7.3.2 经济视图数据测试
- [ ] **利润计算测试**
  - 验证收入、支出、净利润的计算逻辑
  - 测试价格乘数对利润的影响
  - 验证利润数据的格式化显示
  - **测试结果**: 待测试

### 7.4 集成测试

#### 7.4.1 组件集成测试
- [ ] **与现有系统集成测试**
  - 测试新组件与原有模块选择器的兼容性
  - 验证与工作区组件的交互
  - 测试与价格滑块的联动效果
  - **测试结果**: 待测试

#### 7.4.2 数据一致性测试
- [ ] **多视图数据一致性测试**
  - 验证不同视图模式下数据的一致性
  - 测试视图切换时数据的同步更新
  - 验证数据源变更时的实时响应
  - **测试结果**: 待测试

### 7.5 已知限制和待优化项

#### 7.5.1 当前限制
- 🔶 **体积视图功能**：按钮已禁用，功能待实现
- 🔶 **数据转换优化**：视图切换时的数据映射逻辑需要完善
- 🔶 **过渡效果**：组件切换的平滑过渡效果需要增强

#### 7.5.2 性能优化建议
- 💡 **数据缓存**：考虑实现视图数据的缓存机制
- 💡 **懒加载**：体积视图功能可实现按需加载
- 💡 **动画优化**：添加更流畅的视图切换动画

### 7.6 测试计划

**测试状态**: 🔄 **待执行**
- 所有测试用例已定义，等待实际执行
- 测试环境准备就绪
- 测试数据已准备

**预计测试时间**: 2-3小时
**测试优先级**: 高

**测试执行计划**:
1. 功能测试（1小时）
2. 用户体验测试（30分钟）
3. 数据准确性测试（30分钟）
4. 集成测试（30分钟）

**测试通过标准**:
- 所有核心功能正常工作
- 用户体验流畅无卡顿
- 数据计算准确无误
- 系统集成无冲突

- [ ] 7.2 验证体积计算的正确性
- [ ] 7.3 测试视图切换的流畅性
- [ ] 7.4 进行用户体验测试和优化