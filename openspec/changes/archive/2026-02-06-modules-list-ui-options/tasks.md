# Module List UI Options Tasks

## Task 1: 分析现有模块列表实现
- [x] 审查现有的StationModuleList.vue组件结构
- [x] 分析当前用户规划区和自动工业区的UI布局
- [x] 识别劳动力加成选项的当前位置和功能
- [x] 检查consumption.json数据源中的种族信息结构
- [x] 测量规划区的原始高度和样式规范

## Task 2: 种族医疗消耗实现从json文件中读取
- [x] 在x4.ts中定义医疗消耗的数据结构
- [x] 从consumption.json文件中读取医疗消耗数据，并解析为x4.ts中定义的数据结构map
- [x] userGameData.ts负责初始化的时候进行这个操作
- [x] useStationStore.ts中像 waresMap 一样，定义一个 medicalConsumptionMap，从gameData中导入，并导出

## Task 3: 实现规划区数量调整功能
- [x] 实现1/5, 1/3, 1/2, 2x, 3x, 5x选项按钮的UI组件
- [x] 实现按钮点击逻辑：点击按钮后，资源规划区的所有模块数量调整为当前数量xM/N向上取整
- [x] 实现按钮样式：按钮颜色同资源规划区文字颜色保持一致，hover时显示琥珀色高亮
- [x] 实现按钮交互：按钮没有选中状态，点击一次执行一次对应操作，支持hover高亮
- [x] 实现按钮组右对齐布局
- [x] 确保按钮风格与资源产出概览中的"每小时流量"标签保持一致
- [x] 调整按钮字体大小和高度，保持规划区高度与之前一致
- [x] 保持所有其他元素的样式与之前一致（字体大小、颜色、间距等）
- [x] 保持与现有手动输入功能的兼容性

## Task 4: 实现种族偏好选择下拉列表
- [x] 设计种族选择下拉列表的UI组件
- [x] 下拉列表内容从medicalConsumptionMap的keys中获取可用种族
- [x] i18n化下拉列表内容
- [x] 实现种族选择应触发工业区的模块重新计算
- [x] 集成种族选择与生产计算逻辑
- [x] 添加下拉列表的样式和交互效果
- [x] 保持补给区高度与之前保持一致
- [x] 保持所有其他元素的样式与之前一致（字体大小、颜色、间距等）

## Task 5: 实现劳动力加成选项位置调整和UI优化
- [x] 将计算劳动力加成选项移动到自动工业区标题栏
- [x] 将计算补给区劳动力加成选项移动到自动补给区标题栏
- [x] 统一选项文字为"考虑工人效率加成"，工业区和补给区使用相同名称
- [x] 将文字说明改为图标上的tooltip提示
- [x] 实现点击事件传播阻止，防止触发标题栏折叠/展开
- [x] 优化布局结构，使用嵌套容器确保精确垂直对齐
- [x] 调整CSS样式，固定容器高度，微调图标位置
- [x] 确保移动后功能逻辑保持不变
- [x] 保持工业区和补给区高度与之前保持一致
- [x] 保持所有其他元素的样式与之前一致（字体大小、颜色、间距等）
- [x] 测试选项移动后的用户交互体验

## Task 7: 标题栏UI重构和优化
- [x] 重构用户规划区标题栏布局
- [x] 优化自动工业区标题栏的空间利用
- [x] 确保各区域标题栏的视觉一致性
- [x] 测试响应式设计在不同屏幕尺寸的表现

## Task 8: 集成测试和验证
- [x] 测试所有新功能的完整工作流程
- [x] 验证数量调整功能的准确性
- [x] 测试种族选择对生产计算的影响
- [x] 确保向后兼容性和用户体验一致性